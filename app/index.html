<!doctype html>
<html>
<head>
    <!-- build:js({.tmp,app}) cmxcanvas-dist-min.js -->
    <script src="scripts/cmxcanvas/ro.js"></script>
    <script src="scripts/vendor/q.js"></script>
    <script src="scripts/cmxcanvas/roquestAnimation.js"></script>
    <script src="scripts/cmxcanvas/crossfader.js"></script>
    <script src="scripts/cmxcanvas/ccmove.js"></script>
    <script src="scripts/cmxcanvas/ccloader.js"></script>
    <script src="scripts/cmxcanvas/ccpanelset.js"></script>
    <script src="scripts/cmxcanvas/cmxcanvas.js"></script>
    <!-- endbuild -->
    
    <style type="text/css">
        @import url(http://fonts.googleapis.com/css?family=IM+Fell+English);
        #app-container {
            cursor: pointer;
            font-family: "IM Fell English";
            text-align: center;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        #thisCanvas {
            margin: auto;
            border: 2px solid #ddd;
        }
        .buttons span {
            display: inline-block;
            font-size: 1.3em;
            padding: 20px 0;
            width: 400px;
        }
        .canvas-btn {
            position: absolute;
            top: 0;
            bottom: 0;
        }
        .canvasbook-container {
            position: relative;
        }
        .canvas-btn-left {
            left: 0;
            right: 50%;
            border: 1px solid red;
        }
        .canvas-btn-right {
            left: 50%;
            right: 0;
            border: 1px solid green;
        }



    </style>

</head>
<body>
        <div id="app-container">
          <h1>cmxcanvas-new.js</h1>
            <div class="canvasbook-container">
                <canvas id="thisCanvas" height="450px" width="800px"></canvas>
                <span class="canvas-btn canvas-btn-left" id="book-prev"></span>
                <span class="canvas-btn canvas-btn-right" id="book-next"></span>
            </div>
          <div class="buttons">
            <span id="book-prev">previous</span>
            <span id="book-next">next</span>
          </div>
        </div>

        <script type="text/javascript">
            (function(){
                var cmxCanvas;

                function _init(json){
                    cmxCanvas = new CmxCanvas(json, 'thisCanvas');
                    document.getElementById('book-next').onclick = cmxCanvas.next;
                    document.getElementById('book-prev').onclick = cmxCanvas.prev;
                };
                

                request = new XMLHttpRequest();
                request.open('GET', '/json/sov01Model.json', true);

                request.onload = function() {
                  if (request.status >= 200 && request.status < 400){
                    _init(JSON.parse(request.response));
                  } else {
                    console.log(request.responseText);
                  }
                };

                request.send();
            }());
        </script>
</body>
</html>
